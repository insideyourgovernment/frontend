"    function numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n    function cell(value2, value3) {\n        table_html = '';\nif (!(value3 in value2)) {\n        table_html += '<td></td>';\n      } else if (value3.indexOf(\"photo\") > -1) {\n        table_html += '<td class=\"photo\"><img src=\"'+value2[value3]+'\" style=\"max-width:100px\" /></td>';\n      } else if (value2[value3] === parseInt(value2[value3], 10)) {\n        table_html += '<td>'+numberWithCommas(value2[value3])+'</td>';\n      } else if (value3 == 'links') {\n        table_html += '<td><ul>';\n        $.each(value2[value3], function(linki, link) {\n          table_html += '<li><a href=\"'+link['url']+'\">'+link['name']+'</a></li>';\n        });\n        table_html += '</ul></td>';\n      } else if (value3.indexOf('link') > -1 || value3.indexOf('url') > -1 || value3.indexOf('url') > -1) {\n        table_html += '<td><a href=\"'+value2[value3]+'\">'+value2[value3]+'</a></td>';\n      } else if (value3 == 'Summarized results') {\n        var sresults = value2[value3];\n        table_html += '<td><table>';\n        $.each(sresults, function(eindex, employee) {\n          table_html += '<tr><th colspan=\"2\">'+employee['heading']+'</th></tr>';\n          $.each(employee['allegations'], function(aindex, allegation) {\n            table_html += '<tr><th>'+allegation['heading']+'</th><td>'+allegation['allegation']+'</td></tr>';\n            if (stringStartsWith(allegation['opa_finding'], 'Sustained')) {\n              highlighting = ' class=\"highlight\"';\n            } else {\n              highlighting = '';\n            }\n            table_html += '<tr><th>'+allegation['heading']+' OPA finding</th><td'+highlighting+'>'+allegation['opa_finding']+'</td></tr>';\n          });\n          table_html += '<tr><th>Final discipline</th><td>'+employee['final_discipline']+'</td></tr>';\n        });\n        table_html += '</table>';\n        table_html += '</td>';\n      } else if (String(value2[value3]).indexOf('[object Object]') > -1 || Array.isArray(value2[value3])) {\n        if (typeof value2[value3].epoch_time != 'undefined') {\n          var date = new Date(value2[value3].epoch_time*1000);\n          table_html += '<td>'+date+'</td>';\n        } else {\n          table_html += '<td>'+JSON.stringify(value2[value3]).replace(/:\"/g, ': \"').replace(/,/g, ', ')+'</td>';\n        }\n      } else if (value3 in value2) {\n        table_html += '<td>'+value2[value3]+'</td>';\n      }\n        return table_html;\n    }\n    if(typeof console === \"undefined\"){\n    console = { log: function() { } };\n  }\n  function highlight(what, where) {\n    try {  \n    where.each(function() {\n      $(this).html($(this).html().replace(what.not('photo'), '<span class=\"highlight\">'+what+'</span>'));\n    });\n    } catch (err) {\n        \n    }\n  }\nfunction clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor();\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n    }\n    return copy;\n}\nfunction stringStartsWith (string, prefix) {\n  return string.slice(0, prefix.length) == prefix;\n}\nfunction appendLater(what, when) {\n  setTimeout(function() {$('.data_results').append(what)}, when);   \n}\nfunction addData(table, element, data, page) {\n  element.html('');\n  window.payload = data['payload'];\n  //console.log(window.payload);  \n  //console.log('fields '+data['fields']);\n  var additional = '';\n  if ('has_string_in_any_field' in window.payload) {\n    additional = ' mentioning \"'+window.payload['has_string_in_any_field']+'\"';\n    setTimeout(function() {highlight(window.payload['has_string_in_any_field'], $('.data_results td'))}, 1500);\n  }\n  var title = data['table']['name']+additional;\n  var header = '<section class=\"content-header\"><h1>'+title+'</h1></section>';\n  element.append(header);\n  header = '';\n  document.title = title + \" | Inside Your Government\";\n  header = '<section class=\"content\"><a href=\"#!/information/?table='+data['table']['id']+'\">Link to table without any subqueries</a> ';\n  header += 'Raw data in JSON format at <span class=\"url\"></span>';\n  header += '<br/><strong>Search:</strong> <input type=\"text\" class=\"search_query\" /><input type=\"button\" data-table=\"'+data['table']['id']+'\" class=\"go\" value=\"go\" />';\n  if (data['number_of_rows'] == 1) {\n    header += ' ('+data['number_of_rows']+' row)';\n  } else {\n    header += ' ('+data['number_of_rows']+' '+data['name_for_rows']+')';\n  }\n  $.each(data['field_selectors'], function(i, value) {\n    if (value['selector'] == 'checkbox') {\n        var isboth = '';\n        var istrue = '';  \n        var isfalse = '';   \n        if ('filter' in window.payload) {\n          if (value['name'] in window.payload['filter']) {\n\n            switch(window.payload['filter'][value['name']]) {\n              case true:\n                  istrue = ' selected';\n                  break;\n              case false:\n                  isfalse = ' selected';\n                  break;\n            }        \n          }\n          else {\n            isboth = ' selected';\n          }\n        } else {\n          isboth = ' selected';\n        }\n\n        header += ' <select data-field=\"'+value['name']+'\" class=\"boolean_field\"><option value=\"both\"'+isboth+'>Both '+value['display_name']+' and Not '+value['display_name']+'</option><option value=\"true\"'+istrue+'>Only '+value['display_name']+'</option><option value=\"false\"'+isfalse+'>Only Not '+value['display_name']+'</option></select>';\n    } else if (value['selector'] == 'dropdown') {\n        header += ' <strong>'+value['display_name']+'</strong> <select data-field=\"'+value['name']+'\" class=\"dropdown_selector\">';\n        \n        selected = 'none';\n        if ('filter' in window.payload) {\n          if (value['name'] in window.payload['filter']) {\n            selected = window.payload[value['name']];\n          }\n        }\n        $.each(value['items'], function(items_i, item) {\n            if (item == selected) {\n                selected_html = ' selected';\n            } else {\n              selected_html = '';   \n            }\n            header += '<option value=\"'+item+'\"'+selected_html+'>'+item+'</option>';\n        });\n        if (selected == 'none') {\n            if ('none' == selected) {\n              selected_html = ' selected';\n            } else {\n              selected_html = '';   \n            }\n        }\n        header += '<option value=\"none\"'+selected_html+'></option>';\n        header += '</select>';\n    }\n  });\n  header += '<br/><strong>Sorting:</strong> ';\n  header += ' <strong>Field:</strong> ';\n  header += '<select class=\"field_for_sorting\">';\n  header += '<option value=\"\" selected></option>';\n  $.each(data['fields'], function(i, value) {\n    header += '<option value=\"'+value+'\">'+value+'</option>';\n  });\n  header += '</select>';\n  header += ' <strong>Direction:</strong> ';\n  header += '<select class=\"direction_for_sorting\">';\n  header += '<option value=\"desc\" selected>descending</option>';\n  header += '<option value=\"asc\">ascending</option>';   \n  header += '</select>';\n  if ('percentages' in data) {\n    if (data['percentages'].length > 0) {\n      header += '<h3>Auto generated analysis</h3>';\n      header += '<table class=\"data_table percentages\"><tr><th>Field</th><th>Value</th><th>Percentage</th><th>Sentence</th></tr>';\n      \n      $.each(data['percentages'], function(i, value) {\n        new_payload = clone(window.payload);\n        new_payload['filter'] = {};\n        new_payload['filter'][value['field']] = true;\n        header += '<tr><td>'+value['field']+'</td><td><a href=\"/#!/information/?payload='+encodeURIComponent(JSON.stringify(new_payload))+'\">'+value['value']+'</a></td><td>'+value['percentage']+'</td><td>'+value['sentence']+'</tr>';\n      });\n      header += '</table>';\n    }\n  }\n  header += '<h3>Rankings</h3>';\n  $.each(data['group_counts'], function(j, value2) {\n      header += '<table class=\"data_table\"><tr><th colspan=\"2\">'+value2[0]+'</th></tr>';\n      $.each(value2[1], function(h, value3) {\n          header += '<tr><td>'+JSON.stringify(value3[0])+'</td><td>'+value3[1]+'</td></tr>';\n      });\n      header += '</table>';\n  });\n  header += '<h3>The data</h3>';\n  header += '<div class=\"pages\"></div>';\n  //element.append(header);\n  //header = '';\n  \n  var table_html = '<table class=\"data_table data_results\"></table><div class=\"pages\"></div></section>';\n  element.append(header+table_html);\n  table_html = '';\n  if (page * per_page < number_of_records) {\n      var rows = data['data'].slice((page-1) * per_page,page * per_page);\n  } else {\n      var rows = data['data'].slice((page-1) * per_page);\n  }\n  $.each(rows, function(j, value2) {\n    table_html += '<tr>';\n    \n    if ('default_fields_to_display' in data['table']) {\n      var fields = data['table']['default_fields_to_display'];\n    } else {\n      var fields = data['fields'];\n    }\n    $.each(fields, function(i, value) {\n      table_html += '<th>'+value+'</th>';\n    });\n    table_html += '</tr>';\n    table_html += '<tr>';\n    $.each(fields, function(h, value3) {\n      table_html += cell(value2, value3); \n    });\n    table_html += '</tr>';\n    //appendLater(table_html, j*5)\n    //$('.data_results').append(table_html);\n    //console.log(table_html);\n  });\n  \n  //table_html += '</table>';\n  setTimeout(function() {$('.data_results').html(table_html);}, 1000);\n    var number_of_records = data['number_of_rows'];\n    var per_page = 10\n    var pages = Math.floor(number_of_records / per_page);\n    if (pages > 1) {\n        if (number_of_records % per_page != 0) {\n            pages += 1;\n        }\n        if (pages+1 < 20) {\n          var end = pages + 1;\n        } else {\n          var end = 20;   \n        }\n        for (var i=1;i<end;i++) {\n            $('.pages').append('<a href=\"\" class=\"to_page_'+i+'\">'+i+'</a>');\n            //console.log(i+' '+pages);\n            if (i != pages) {\n              $('.pages').append(' | ');\n            }\n        }\n    }\n}\nfunction addUrl(element, url) {\n  window.location.hash = '!/information/'+url.substring(52);\n  //console.log('add url '+url);\n  setTimeout(function() {element.find('.url').html('<a href=\"'+url+'\">'+url+'</a>');}, 500);\n}\nfunction getData(table, element, other) {\n  element.text('Loading the data');\n  var params = {'table': table};\n  if (other) {\n    var params = other;\n    params['table'] = table;\n  }\n  $.ajax({\n      url: 'https://api.insideyourgovernment.com/retrive/',\n      data: {'payload': JSON.stringify(params)},\n      dataType: 'json',\n      complete : function(){\n        //console.log('url', this.url);\n          addUrl(element, this.url);\n      },\n      success: function(data){\n        window.data = data;\n        addData(table, element, window.data, 1);\n      }\n  });\n}\nfunction getDataForPayload(payload, element) {\n    element.text('Loading the data');\n  //console.log('type '+String(payload) == '[object Object]');\n  if (String(payload) == '[object Object]') {\n    $.ajax({\n        url: 'https://api.insideyourgovernment.com/retrive/',\n        data: {'payload': JSON.stringify(window.payload)},\n        dataType: 'json',\n        complete : function(){\n          //console.log('url', this.url);\n            addUrl(element, this.url);\n        },\n        success: function(data){\n          var table = data['table'];\n          window.data = data;\n          addData(table, element, data, 1);\n          if ('payload' in data) {\n            if ('has_string_in_any_field' in data['payload']) {\n              setTimeout(function() {$('.search_query').val(data['payload']['has_string_in_any_field'])}, 1000);\n            }\n          }\n        }\n    });\n    \n  } else {\n    \n    $.ajax({\n        url: 'https://api.insideyourgovernment.com/retrive/?payload='+payload,\n        \n        dataType: 'json',\n        complete : function(){\n          //console.log('url', this.url);\n            addUrl(element, this.url);\n        },\n        success: function(data){\n          window.data = data;\n          var table = data['table'];\n          addData(table, element, data, 1);\n          if ('payload' in data) {\n            if ('has_string_in_any_field' in data['payload']) {\n              setTimeout(function() {$('.search_query').val(data['payload']['has_string_in_any_field'])}, 500);\n            }\n          }\n        }\n    });\n  }\n}\nString.prototype.endsWith = function(suffix) {\n  return this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\nfunction processHash() {\n  setTimeout(function() {\n    $('#share_buttons #facebook').html(\"<div class=\\\"fb-share-button\\\" data-href=\\\"\"+window.location+\" data-layout=\\\"button\\\"><\\/div>\");\n    $('#share_buttons #twitter').html(\"<a href=\\\"https:\\/\\/twitter.com\\/share\\\" class=\\\"twitter-share-button\\\"{count} data-size=\\\"large\\\">Tweet<\\/a>\\r\\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=\\/^http:\\/.test(d.location)?\\'http\\':\\'https\\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\\':\\/\\/platform.twitter.com\\/widgets.js\\';fjs.parentNode.insertBefore(js,fjs);}}(document, \\'script\\', \\'twitter-wjs\\');<\\/script>\");\n  }, 1000);\n  var hash = window.location.hash;\n  if (hash) {\n    if (hash.endsWith('/')) {\n      hash = hash.slice(3,-1);\n    } else {\n      hash = hash.slice(3);         \n    }\n    //console.log(hash);\n    $('.main').hide();\n    $('#nav a').removeClass('current');\n    $(\"[href='/#!/\"+hash+\"/']\").addClass('current');\n    //console.log('substring '+hash.substring(0, 11));\n    $('#working_space').text('');\n    if (hash.substring(0, 9) == 'articles/') {\n        //console.log('next substring '+hash.substring(9));\n        $('#'+hash.substring(9)+'_article').show();\n        document.title = $('#'+hash.substring(9)+'_article h2').text() + ' | Inside Your Government';\n        gaTrack(window.location.hash.substring(2), document.title + ' | Inside Your Government');\n        DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        });\n    } else if (hash.substring(0, 19) == 'information/?table=') {\n        var table = hash.substring(19);\n        //console.log(table);\n        getData(table, $('#working_space'));\n        DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        });\n    } else if (hash.substring(0, 21) == 'information/?payload=') {\n        var payload = hash.substring(21);\n        //console.log(table);\n        getDataForPayload(payload, $('#working_space'));\n        setTimeout(function() {DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        })}, 1000);\n    } else {\n        \n        document.title = $('#'+hash+'_main h1').text() + ' | Inside Your Government';\n        gaTrack(window.location.hash.substring(2), document.title + ' | Inside Your Government');\n        $('#'+hash+'_main').show();\n        \n    }    \n    \n  } else {\n    window.location.hash = '#!/home/';\n    processHash();\n  }\n}\n\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0; i<ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1);\n        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);\n    }\n    return \"\";\n}\n\n// Function to load and initiate the Analytics tracker\nfunction gaTracker(id){\n  $.getScript('//www.google-analytics.com/analytics.js'); // jQuery shortcut\n  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;\n  ga('create', id, 'auto');\n  ga('send', 'pageview');\n}\n\n\n// Function to track a virtual page view\nfunction gaTrack(path, title) {\n  ga('set', { page: path, title: title });\n  ga('send', 'pageview');\n}\n\n\n$(function() {\n  $('#nav').height($('#nav a:link').outerHeight()+2);\n  gaTracker('UA-70789642-1');\n  $('#account_box').hide();\n  $('.main').not('#home').hide();\n  processHash();\n  //$('ul'+hash+':first').show();\n  $('body').on('click', 'a', function() {\n    //console.log($(this).attr('href').substring(0, 1));\n    if ($(this).attr('href').substring(0, 3) == \"/#!\" || $(this).attr('href').substring(0, 2) == \"#!\") {\n      setTimeout(function(){processHash();},100);\n    }\n  });\n  //console.log(document.cookie);\n  //console.log(getCookie('session'));\n  $.get('https://api.insideyourgovernment.com/get_session_info/', {'session': getCookie('session')}, function(data) {\n      //console.log(data);\n      $('#login_box').hide();\n      $('#account_box').show(); \n      if (data['is_admin']) {\n        $('.admin').show();\n        $.get('https://api.insideyourgovernment.com/tables/', function(data) {\n           $.each(data, function(i, value) {\n             $('#tables_for_action').append('<option value=\"'+value+'\">'+value+'</option>');\n           });           \n        });\n      }\n    }); \n  $('#login').click(function() {\n    $.post('https://api.insideyourgovernment.com/login/', {'email': $('#email').val(), 'password': $('#password').val()}, function(data) {\n        //console.log(typeof data);\n        //console.log(data['session_id']);\n      document.cookie=\"session=\"+data['session_id'];\n      //console.log(document.cookie);\n      //console.log(data);  \n    });  \n  });\n  $.fn.getAttributes = function() {\n    var attributes = {}; \n    if( this.length ) {\n        $.each( this[0].attributes, function( index, attr ) {\n            if (attr.name.substring(0,5) == 'data-') {\n              if (attr.name == 'data-pluck') {\n                attributes[ attr.name.slice(5) ] = JSON.parse(attr.value);\n              } else {\n                attributes[ attr.name.slice(5) ] = attr.value;\n              }\n            } else {\n              attributes[ attr.name ] = attr.value;\n            }\n        } ); \n    }\n    return attributes;\n  };\n  function addDivsOfTables(theObj, data) {\n    //theObj.html(JSON.stringify(data));\n    $.each(data['keys'], function(i, value) {\n      var table = '<table class=\"data_table\">';\n      table += '<tr><th>Link</th>';\n      $.each(data['table_fields'], function(j, value2) {\n        table += '<th>'+value2+'</th>';\n      });\n      //console.log(value+' '+JSON.stringify(data[value]));\n      $.each(data['data'][value], function(j, value2) {\n        table += '<tr>';\n        table += '<td><a href=\"/#!/information/?table='+value2[theObj.attr('data-field_for_url')]+'\">'+value2[theObj.attr('data-field_to_name_link')]+'</a>';\n        $.each(data['table_fields'], function(h, value3) {\n          table += cell(value2, value3);\n        });\n        table += '</tr>';\n      });\n      table += '</tr>';\n      table += '</table>';\n      theObj.append('<div class=\"box_200\"><h3>'+value+'</h3>'+table+'</div>');\n    });\n  }\n  function getDivsOfTables(theObj) {\n    var params = theObj.getAttributes();\n    //console.log('https://api.insideyourgovernment.com/retrive/?payload='+encodeURIComponent(JSON.stringify(params)))\n    $.get('https://api.insideyourgovernment.com/retrive/', {'payload': JSON.stringify(params)}, function(data) {\n      //console.log(data);\n        \n      addDivsOfTables(theObj, data);\n    });\n  }\n  $('.divs_of_tables').each(function() {\n    getDivsOfTables($(this));\n  });\n\n  $('body').on('click', '.go', function() {\n    var query = $(this).prev().val();\n    getData($(this).attr('data-table'), $('#working_space'), {'has_string_in_any_field': query});\n    setTimeout(function() {$('.search_query').val(query)}, 1000);\n    setTimeout(function() {highlight($('.search_query').val(), $('#working_space td').not('.photo'))}, 1000);\n  });\n  $(\"body\").on('keyup', '.search_query', function (e) {\n    if (e.keyCode == 13) {\n        $(this).parent().find('.go').trigger('click');\n    }\n  });\n  $('body').on('change', '.boolean_field', function(e) {\n    var f = $(this).attr('data-field');\n    window.payload['filter'] = {};\n    //console.log(JSON.stringify(window.payload));\n    if ($(this).val() == 'both') {\n      if ('filter' in window.payload) {\n        if ($(this).attr('data-field') in window.payload['filter']) {\n          delete window.payload['filter'][$(this).attr('data-field')];\n        }\n        if (Object.keys(window.payload['filter'])) {\n          delete window.payload['filter'];\n        }\n      }      \n    } else {\n      //console.log($(this).val(), Boolean($(this).val()));\n      window.payload['filter'][f] = ($(this).val() == 'true');\n    }\n    getDataForPayload(window.payload, $('#working_space'));\n    \n  });\n  $('body').on('change', '.dropdown_selector', function(e) {\n    var f = $(this).attr('data-field');\n    window.payload['filter'] = {};\n    //console.log(JSON.stringify(window.payload));\n    if ($(this).val() == 'none') {\n      if ('filter' in window.payload) {\n        if ($(this).attr('data-field') in window.payload['filter']) {\n          delete window.payload['filter'][$(this).attr('data-field')];\n        }\n        //if (Object.keys(window.payload['filter'])) {\n        //  delete window.payload['filter'];\n        //}\n      }      \n    } else {\n      //console.log($(this).val(), Boolean($(this).val()));\n      window.payload['filter'][f] = $(this).val();\n    }\n    getDataForPayload(window.payload, $('#working_space'));\n    \n  }); \n   $('body').on('click', '.pages a', function(e) {\n        e.preventDefault();\n        $('.pages a').removeClass('current');\n        $('.to_page_'+$(this).text()).addClass('current');\n        window['page'] = parseInt($(this).text());\n        getDataForPayload(window.data, $('#working_space'));\n        //addData(window.data['table']['id'], $('#working_space'), window.data, $(this).text());\n   });\n});"
{"patch":[[[[0,"ing("],[-1,"52"],[0,");\n "]],10060,10060,10,8]],"time":1450817785721}
{"patch":[[[[0,"bstring("],[1,"4"],[0,");\n  //c"]],10056,10056,16,17]],"time":1450817783683}
{"patch":[[[[0,"string(4"],[1,"5"],[0,");\n  //c"]],10057,10057,16,17]],"time":1450817781690}
{"patch":[[[[0,"ref=\"#!/"],[-1,"information"],[1,"data"],[0,"/?table="]],3962,3962,27,20],[[[0,"ef=\"/#!/"],[-1,"information"],[1,"data"],[0,"/?payloa"]],7586,7586,27,20],[[[0,"sh = '!/"],[-1,"information"],[1,"data"],[0,"/'+url.s"]],10014,10014,27,20],[[[0,"ef=\"/#!/"],[-1,"information"],[1,"data"],[0,"/?table="]],18481,18481,27,20]],"time":1450817613594}
{"patch":[[[[0,"nformati"],[-1,"on"],[0,"/?payloa"]],14468,14468,18,16]],"time":1450817520058}
{"patch":[[[[0,"== 'info"],[-1,"rmati"],[0,"/?payloa"]],14463,14463,21,16]],"time":1450817518050}
{"patch":[[[[0,"21) == '"],[-1,"info"],[0,"/?payloa"]],14459,14459,20,16]],"time":1450817516051}
{"patch":[[[[0,"21) == '"],[1,"data"],[0,"/?payloa"]],14459,14459,16,20]],"time":1450817514051}
{"patch":[[[[0,"bstring("],[-1,"21"],[0,");\n     "]],14515,14515,18,16]],"time":1450817512051}
{"patch":[[[[0,"bstring("],[1,"14"],[0,");\n     "]],14515,14515,16,18]],"time":1450817510050}
{"patch":[[[[0,"ing(0, 2"],[-1,"1"],[0,") == 'da"]],14452,14452,17,16]],"time":1450817508049}
{"patch":[[[[0,"ubstring(0, "],[-1,"2"],[1,"14"],[0,") == 'data/?"]],14447,14447,25,26]],"time":1450817506051}
{"patch":[[[[0,"string(1"],[-1,"9"],[1,"2"],[0,");\n     "]],14133,14133,17,17]],"time":1450817492153}
{"patch":[[[[0,"ing(0, 1"],[-1,"9"],[0,") == 'in"]],14066,14066,17,16]],"time":1450817490152}
{"patch":[[[[0,"ing(0, 1"],[1,"2"],[0,") == 'in"]],14066,14066,16,17]],"time":1450817488193}
{"patch":[[[[0,"nformati"],[-1,"on"],[0,"/?table="]],14082,14082,18,16]],"time":1450817442086}
{"patch":[[[[0,"info"],[-1,"rmati"],[0,"/?ta"]],14081,14081,13,8]],"time":1450817440085}
{"patch":[[[[0,"2) == 'i"],[-1,"nfo"],[0,"/?table="]],14074,14074,19,16]],"time":1450817438087}
{"patch":[[[[0,"12) == '"],[-1,"i"],[1,"data"],[0,"/?table="]],14073,14073,17,20]],"time":1450817436088}
{"patch":[[[[0,"function() {$('."],[-1,"data"],[1,"information"],[0,"_results').appen"]],3186,3186,36,43],[[[0,"function add"],[-1,"Data"],[1,"information"],[0,"(table, elem"]],3251,3251,28,35],[[[0,"lement, "],[-1,"data"],[1,"information"],[0,", page) "]],3283,3283,20,27],[[[0,"yload = "],[-1,"data"],[1,"information"],[0,"['payloa"]],3343,3343,20,27],[[[0,"ields '+"],[-1,"data"],[1,"information"],[0,"['fields"]],3428,3428,20,27],[[[0,"ield'], $('."],[-1,"data"],[1,"information"],[0,"_results td'"]],3688,3688,28,35],[[[0,"var title = "],[-1,"data"],[1,"information"],[0,"['table']['n"]],3741,3741,28,35],[[[0,"\"#!/"],[-1,"data/?table='+data"],[1,"information/?table='+information"],[0,"['ta"]],4015,4015,26,40],[[[0,"+= 'Raw "],[-1,"data"],[1,"information"],[0," in JSON"]],4123,4123,20,27],[[[0,"able=\"'+"],[-1,"data"],[1,"information"],[0,"['table'"]],4301,4301,20,27],[[[0,";\n  if ("],[-1,"data"],[1,"information"],[0,"['number"]],4364,4364,20,27],[[[0," header += ' ('+"],[-1,"data"],[1,"information"],[0,"['number_of_rows"]],4413,4413,36,43],[[[0,"+= ' ('+"],[-1,"data"],[1,"information"],[0,"['number"]],4490,4490,20,27],[[[0,"s']+' '+"],[-1,"data"],[1,"information"],[0,"['name_f"]],4524,4524,20,27],[[[0," }\n  $.each("],[-1,"data"],[1,"information"],[0,"['field_sele"]],4567,4567,28,35],[[[0," $.each("],[-1,"data"],[1,"information"],[0,"['fields"]],6802,6802,20,27],[[[0,"entages' in "],[-1,"data"],[1,"information"],[0,") {\n    if ("]],7204,7204,28,35],[[[0,"    if ("],[-1,"data"],[1,"information"],[0,"['percen"]],7231,7231,20,27],[[[0,"able class=\""],[-1,"data"],[1,"information"],[0,"_table perce"]],7351,7351,28,35],[[[0," $.each("],[-1,"data"],[1,"information"],[0,"['percen"]],7482,7482,20,27],[[[0,"ef=\"/#!/"],[-1,"data"],[1,"information"],[0,"/?payloa"]],7733,7733,20,27],[[[0," $.each("],[-1,"data"],[1,"information"],[0,"['group_"]],7989,7989,20,27],[[[0," '<table class=\""],[-1,"data"],[1,"information"],[0,"_table\"><tr><th "]],8063,8063,36,43],[[[0,"<h3>The "],[-1,"data"],[1,"information"],[0,"</h3>';\n"]],8340,8340,20,27],[[[0,"ss=\""],[-1,"data_table data"],[1,"information_table information"],[0,"_res"]],8486,8486,23,37],[[[0," var rows = "],[-1,"data['data"],[1,"information['information"],[0,"'].slice((pa"]],8681,8681,34,48],[[[0," rows = "],[-1,"data['data"],[1,"information['information"],[0,"'].slice"]],8784,8784,26,40],[[[0,"lay' in "],[-1,"data"],[1,"information"],[0,"['table'"]],8950,8950,20,27],[[[0,"ields = "],[-1,"data"],[1,"information"],[0,"['table'"]],8993,8993,20,27],[[[0,"ields = "],[-1,"data"],[1,"information"],[0,"['fields"]],9076,9076,20,27],[[[0,")\n    //$('."],[-1,"data"],[1,"information"],[0,"_results').a"]],9408,9408,28,35],[[[0,"() {$('."],[-1,"data"],[1,"information"],[0,"_results"]],9553,9553,20,27],[[[0,"cords = "],[-1,"data"],[1,"information"],[0,"['number"]],9630,9630,20,27],[[[0,"sh = '!/"],[-1,"data"],[1,"information"],[0,"/'+url.s"]],10273,10273,20,27],[[[0,"function get"],[-1,"Data"],[1,"information"],[0,"(table, elem"]],10442,10442,28,35],[[[0,"Loading the "],[-1,"data"],[1,"information"],[0,"');\n  var pa"]],10507,10507,28,35],[[[0,"ve/',\n      "],[-1,"data"],[1,"information"],[0,": {'payload'"]],10704,10704,28,35],[[[0,"ms)},\n      "],[-1,"data"],[1,"information"],[0,"Type: 'json'"]],10760,10760,28,35],[[[0,"ccess: function("],[-1,"data"],[1,"information"],[0,"){\n        windo"]],10920,10920,36,43],[[[0,"     window."],[-1,"data = data"],[1,"information = information"],[0,";\n        ad"]],10953,10953,35,49],[[[0,"ion;\n        add"],[-1,"Data"],[1,"information"],[0,"(table, element,"]],10987,10987,36,43],[[[0," window."],[-1,"data"],[1,"information"],[0,", 1);\n  "]],11030,11030,20,27],[[[0,"function get"],[-1,"Data"],[1,"information"],[0,"ForPayload(p"]],11071,11071,28,35],[[[0,"ing the "],[-1,"data"],[1,"information"],[0,"');\n  //"]],11147,11147,20,27],[[[0,"        "],[-1,"data"],[1,"information"],[0,": {'payl"]],11354,11354,20,27],[[[0,"load)},\n        "],[-1,"data"],[1,"information"],[0,"Type: 'json',\n  "]],11412,11412,36,43],[[[0,"ccess: function("],[-1,"data"],[1,"information"],[0,"){\n          var"]],11586,11586,36,43],[[[0,"    var table = "],[-1,"data"],[1,"information"],[0,"['table'];\n     "]],11622,11622,36,43],[[[0,"     window."],[-1,"data = data"],[1,"information = information"],[0,";\n          "]],11665,11665,35,49],[[[0,"n;\n          add"],[-1,"Data"],[1,"information"],[0,"(table, element,"]],11701,11701,36,43],[[[0,"table, element, "],[-1,"data"],[1,"information"],[0,", 1);\n          "]],11729,11729,36,43],[[[0,"f ('payload' in "],[-1,"data"],[1,"information"],[0,") {\n            "]],11773,11773,36,43],[[[0,"n_any_field' in "],[-1,"data"],[1,"information"],[0,"['payload']) {\n "]],11833,11833,36,43],[[[0,"rch_query').val("],[-1,"data"],[1,"information"],[0,"['payload']['has"]],11919,11919,36,43],[[[0,"        "],[-1,"data"],[1,"information"],[0,"Type: 'j"]],12161,12161,20,27],[[[0,"unction("],[-1,"data"],[1,"information"],[0,"){\n     "]],12335,12335,20,27],[[[0,"dow."],[-1,"data = data"],[1,"information = information"],[0,";\n  "]],12370,12370,19,33],[[[0,"table = "],[-1,"data"],[1,"information"],[0,"['table'"]],12415,12415,20,27],[[[0,"     add"],[-1,"Data"],[1,"information"],[0,"(table, "]],12450,12450,20,27],[[[0,"lement, "],[-1,"data"],[1,"information"],[0,", 1);\n  "]],12478,12478,20,27],[[[0,"oad' in "],[-1,"data"],[1,"information"],[0,") {\n    "]],12522,12522,20,27],[[[0,"eld' in "],[-1,"data"],[1,"information"],[0,"['payloa"]],12582,12582,20,27],[[[0,"y').val("],[-1,"data"],[1,"information"],[0,"['payloa"]],12668,12668,20,27],[[[0,"12) == '"],[-1,"data"],[1,"information"],[0,"/?table="]],14563,14563,20,27],[[[0,"     get"],[-1,"Data"],[1,"information"],[0,"(table, "]],14668,14668,20,27],[[[0,"14) == '"],[-1,"data"],[1,"information"],[0,"/?payloa"]],14956,14956,20,27],[[[0,"le);\n        get"],[-1,"Data"],[1,"information"],[0,"ForPayload(paylo"]],15057,15057,36,43],[[[0,"on')}, function("],[-1,"data"],[1,"information"],[0,") {\n      //cons"]],17103,17103,36,43],[[[0,"  //console.log("],[-1,"data"],[1,"information"],[0,");\n      $('#log"]],17138,17138,36,43],[[[0,"    if ("],[-1,"data"],[1,"information"],[0,"['is_adm"]],17233,17233,20,27],[[[0,"les/', function("],[-1,"data"],[1,"information"],[0,") {\n           $"]],17351,17351,36,43],[[[0," $.each("],[-1,"data"],[1,"information"],[0,", functi"]],17392,17392,20,27],[[[0,"al()}, function("],[-1,"data"],[1,"information"],[0,") {\n        //co"]],17730,17730,36,43],[[[0,"(typeof "],[-1,"data"],[1,"information"],[0,");\n     "]],17782,17782,20,27],[[[0,"ole.log("],[-1,"data"],[1,"information"],[0,"['sessio"]],17818,17818,20,27],[[[0,"ssion=\"+"],[-1,"data"],[1,"information"],[0,"['sessio"]],17879,17879,20,27],[[[0,"ole.log("],[-1,"data"],[1,"information"],[0,");  \n   "]],17964,17964,20,27],[[[0,"theObj, "],[-1,"data"],[1,"information"],[0,") {\n    "]],18593,18593,20,27],[[[0,"ringify("],[-1,"data"],[1,"information"],[0,"));\n    "]],18641,18641,20,27],[[[0," $.each("],[-1,"data"],[1,"information"],[0,"['keys']"]],18667,18667,20,27],[[[0," class=\""],[-1,"data"],[1,"information"],[0,"_table\">"]],18742,18742,20,27],[[[0,"';\n      $.each("],[-1,"data"],[1,"information"],[0,"['table_fields']"]],18805,18805,36,43],[[[0,"ringify("],[-1,"data"],[1,"information"],[0,"[value])"]],18959,18959,20,27],[[[0,"ach("],[-1,"data['data"],[1,"information['information"],[0,"'][v"]],18998,18998,18,32],[[[0,"ef=\"/#!/"],[-1,"data"],[1,"information"],[0,"/?table="]],19111,19111,20,27],[[[0," $.each("],[-1,"data"],[1,"information"],[0,"['table_"]],19249,19249,20,27],[[[0,"unction("],[-1,"data"],[1,"information"],[0,") {\n    "]],19833,19833,20,27],[[[0,"ole.log("],[-1,"data"],[1,"information"],[0,");\n     "]],19868,19868,20,27],[[[0,"theObj, "],[-1,"data"],[1,"information"],[0,");\n    }"]],19921,19921,20,27],[[[0,"\n    get"],[-1,"Data"],[1,"information"],[0,"($(this)"]],20114,20114,20,27],[[[0,");\n    }\n    get"],[-1,"Data"],[1,"information"],[0,"ForPayload(windo"]],21214,21214,36,43],[[[0,"   }\n    get"],[-1,"Data"],[1,"information"],[0,"ForPayload(w"]],21965,21965,28,35],[[[0,"     get"],[-1,"Data"],[1,"information"],[0,"ForPaylo"]],22287,22287,20,27],[[[0,"load(window."],[-1,"data"],[1,"information"],[0,", $('#workin"]],22312,22312,28,35],[[[0,"/add"],[-1,"Data(window.data"],[1,"information(window.information"],[0,"['ta"]],22368,22368,24,38],[[[0," window."],[-1,"data"],[1,"information"],[0,", $(this"]],22439,22439,20,27]],"time":1450817360859}
{"patch":[[[[0,"button\" "],[-1,"data"],[1,"information"],[0,"-table=\""]],4287,4287,20,27],[[[0,"er += ' <select "],[-1,"data"],[1,"information"],[0,"-field=\"'+value["]],5278,5278,36,43],[[[0,"<select "],[-1,"data"],[1,"information"],[0,"-field=\""]],5729,5729,20,27],[[[0,"utton\\\" "],[-1,"data"],[1,"information"],[0,"-href=\\\""]],13037,13037,20,27],[[[0,"ation+\" "],[-1,"data"],[1,"information"],[0,"-layout="]],13076,13076,20,27],[[[0,"{count} "],[-1,"data"],[1,"information"],[0,"-size=\\\""]],13235,13235,20,27],[[[0,",5) == '"],[-1,"data"],[1,"information"],[0,"-') {\n  "]],18231,18231,20,27],[[[0,"ame == '"],[-1,"data"],[1,"information"],[0,"-pluck')"]],18280,18280,20,27],[[[0,"heObj.attr('"],[-1,"data"],[1,"information"],[0,"-field_for_u"]],19204,19204,28,35],[[[0,"heObj.attr('"],[-1,"data"],[1,"information"],[0,"-field_to_na"]],19258,19258,28,35],[[[0,").attr('"],[-1,"data"],[1,"information"],[0,"-table')"]],20210,20210,20,27],[[[0,"= $(this).attr('"],[-1,"data"],[1,"information"],[0,"-field');\n    wi"]],20696,20696,36,43],[[[0," ($(this).attr('"],[-1,"data"],[1,"information"],[0,"-field') in wind"]],20904,20904,36,43],[[[0,"][$(this).attr('"],[-1,"data"],[1,"information"],[0,"-field')];\n     "]],21011,21011,36,43],[[[0,"= $(this).attr('"],[-1,"data"],[1,"information"],[0,"-field');\n    wi"]],21470,21470,36,43],[[[0," ($(this).attr('"],[-1,"data"],[1,"information"],[0,"-field') in wind"]],21678,21678,36,43],[[[0,"tr('"],[-1,"data"],[1,"information"],[0,"-fie"]],21797,21797,12,19]],"time":1450817044401}
{"patch":[[[[0,"tion() {$('."],[-1,"information"],[1,"data"],[0,"_results').a"]],3190,3190,35,28],[[[0,"function add"],[-1,"information"],[1,"Data"],[0,"(table, elem"]],3244,3244,35,28],[[[0,"lement, "],[-1,"information"],[1,"data"],[0,", page) "]],3269,3269,27,20],[[[0,"yload = "],[-1,"information"],[1,"data"],[0,"['payloa"]],3322,3322,27,20],[[[0,"ields '+"],[-1,"information"],[1,"data"],[0,"['fields"]],3400,3400,27,20],[[[0,"ield'], $('."],[-1,"information"],[1,"data"],[0,"_results td'"]],3653,3653,35,28],[[[0,"var title = "],[-1,"information"],[1,"data"],[0,"['table']['n"]],3699,3699,35,28],[[[0,"\"#!/"],[-1,"information/?table='+information"],[1,"data/?table='+data"],[0,"['ta"]],3966,3966,40,26],[[[0,"+= 'Raw "],[-1,"information"],[1,"data"],[0," in JSON"]],4060,4060,27,20],[[[0,"on\" "],[-1,"information-table=\"'+information"],[1,"data-table=\"'+data"],[0,"['ta"]],4221,4221,40,26],[[[0,";\n  if ("],[-1,"information"],[1,"data"],[0,"['number"]],4287,4287,27,20],[[[0,"der += ' ('+"],[-1,"information"],[1,"data"],[0,"['number_of_"]],4333,4333,35,28],[[[0,"+= ' ('+"],[-1,"information"],[1,"data"],[0,"['number"]],4399,4399,27,20],[[[0,"s']+' '+"],[-1,"information"],[1,"data"],[0,"['name_f"]],4426,4426,27,20],[[[0," }\n  $.each("],[-1,"information"],[1,"data"],[0,"['field_sele"]],4462,4462,35,28],[[[0,"= ' <select "],[-1,"information"],[1,"data"],[0,"-field=\"'+va"]],5163,5163,35,28],[[[0,"<select "],[-1,"information"],[1,"data"],[0,"-field=\""]],5603,5603,27,20],[[[0," $.each("],[-1,"information"],[1,"data"],[0,"['fields"]],6690,6690,27,20],[[[0,"entages' in "],[-1,"information"],[1,"data"],[0,") {\n    if ("]],7085,7085,35,28],[[[0,"    if ("],[-1,"information"],[1,"data"],[0,"['percen"]],7105,7105,27,20],[[[0,"able class=\""],[-1,"information"],[1,"data"],[0,"_table perce"]],7218,7218,35,28],[[[0," $.each("],[-1,"information"],[1,"data"],[0,"['percen"]],7342,7342,27,20],[[[0,"ef=\"/#!/"],[-1,"information"],[1,"data"],[0,"/?payloa"]],7586,7586,27,20],[[[0," $.each("],[-1,"information"],[1,"data"],[0,"['group_"]],7835,7835,27,20],[[[0,"able class=\""],[-1,"information"],[1,"data"],[0,"_table\"><tr>"]],7906,7906,35,28],[[[0,"<h3>The "],[-1,"information"],[1,"data"],[0,"</h3>';\n"]],8172,8172,27,20],[[[0,"ss=\""],[-1,"information_table information"],[1,"data_table data"],[0,"_res"]],8311,8311,37,23],[[[0,"s = "],[-1,"information['information"],[1,"data['data"],[0,"'].s"]],8500,8500,32,18],[[[0,"s = "],[-1,"information['information"],[1,"data['data"],[0,"'].s"]],8585,8585,32,18],[[[0,"lay' in "],[-1,"information"],[1,"data"],[0,"['table'"]],8733,8733,27,20],[[[0,"ields = "],[-1,"information"],[1,"data"],[0,"['table'"]],8769,8769,27,20],[[[0,"ields = "],[-1,"information"],[1,"data"],[0,"['fields"]],8845,8845,27,20],[[[0,")\n    //$('."],[-1,"information"],[1,"data"],[0,"_results').a"]],9170,9170,35,28],[[[0,"() {$('."],[-1,"information"],[1,"data"],[0,"_results"]],9308,9308,27,20],[[[0,"cords = "],[-1,"information"],[1,"data"],[0,"['number"]],9378,9378,27,20],[[[0,"sh = '!/"],[-1,"information"],[1,"data"],[0,"/'+url.s"]],10014,10014,27,20],[[[0,"function get"],[-1,"information"],[1,"Data"],[0,"(table, elem"]],10176,10176,35,28],[[[0,"Loading the "],[-1,"information"],[1,"data"],[0,"');\n  var pa"]],10234,10234,35,28],[[[0,"ve/',\n      "],[-1,"information"],[1,"data"],[0,": {'payload'"]],10424,10424,35,28],[[[0,"ms)},\n      "],[-1,"information"],[1,"data"],[0,"Type: 'json'"]],10473,10473,35,28],[[[0,"s: function("],[-1,"information"],[1,"data"],[0,"){\n        w"]],10630,10630,35,28],[[[0,"dow."],[-1,"information = information"],[1,"data = data"],[0,";\n  "]],10660,10660,33,19],[[[0,"\n        add"],[-1,"information"],[1,"Data"],[0,"(table, elem"]],10676,10676,35,28],[[[0," window."],[-1,"information"],[1,"data"],[0,", 1);\n  "]],10708,10708,27,20],[[[0,"function get"],[-1,"information"],[1,"Data"],[0,"ForPayload(p"]],10742,10742,35,28],[[[0,"ing the "],[-1,"information"],[1,"data"],[0,"');\n  //"]],10811,10811,27,20],[[[0,"        "],[-1,"information"],[1,"data"],[0,": {'payl"]],11011,11011,27,20],[[[0,")},\n        "],[-1,"information"],[1,"data"],[0,"Type: 'json'"]],11066,11066,35,28],[[[0,"s: function("],[-1,"information"],[1,"data"],[0,"){\n         "]],11233,11233,35,28],[[[0,"var table = "],[-1,"information"],[1,"data"],[0,"['table'];\n "]],11262,11262,35,28],[[[0,"dow."],[-1,"information = information"],[1,"data = data"],[0,";\n  "]],11302,11302,33,19],[[[0,"         add"],[-1,"information"],[1,"Data"],[0,"(table, elem"]],11320,11320,35,28],[[[0,"e, element, "],[-1,"information"],[1,"data"],[0,", 1);\n      "]],11341,11341,35,28],[[[0,"payload' in "],[-1,"information"],[1,"data"],[0,") {\n        "]],11378,11378,35,28],[[[0,"y_field' in "],[-1,"information"],[1,"data"],[0,"['payload'])"]],11431,11431,35,28],[[[0,"query').val("],[-1,"information"],[1,"data"],[0,"['payload']["]],11510,11510,35,28],[[[0,"        "],[-1,"information"],[1,"data"],[0,"Type: 'j"]],11741,11741,27,20],[[[0,"unction("],[-1,"information"],[1,"data"],[0,"){\n     "]],11908,11908,27,20],[[[0,"dow."],[-1,"information = information"],[1,"data = data"],[0,";\n  "]],11936,11936,33,19],[[[0,"table = "],[-1,"information"],[1,"data"],[0,"['table'"]],11967,11967,27,20],[[[0,"     add"],[-1,"information"],[1,"Data"],[0,"(table, "]],11995,11995,27,20],[[[0,"lement, "],[-1,"information"],[1,"data"],[0,", 1);\n  "]],12016,12016,27,20],[[[0,"oad' in "],[-1,"information"],[1,"data"],[0,") {\n    "]],12053,12053,27,20],[[[0,"eld' in "],[-1,"information"],[1,"data"],[0,"['payloa"]],12106,12106,27,20],[[[0,"y').val("],[-1,"information"],[1,"data"],[0,"['payloa"]],12185,12185,27,20],[[[0,"utton\\\" "],[-1,"information"],[1,"data"],[0,"-href=\\\""]],12526,12526,27,20],[[[0,"ation+\" "],[-1,"information"],[1,"data"],[0,"-layout="]],12558,12558,27,20],[[[0,"{count} "],[-1,"information"],[1,"data"],[0,"-size=\\\""]],12710,12710,27,20],[[[0,"12) == '"],[-1,"information"],[1,"data"],[0,"/?table="]],14073,14073,27,20],[[[0,"     get"],[-1,"information"],[1,"Data"],[0,"(table, "]],14171,14171,27,20],[[[0,"14) == '"],[-1,"information"],[1,"data"],[0,"/?payloa"]],14452,14452,27,20],[[[0,"\n        get"],[-1,"information"],[1,"Data"],[0,"ForPayload(p"]],14550,14550,35,28],[[[0,"}, function("],[-1,"information"],[1,"data"],[0,") {\n      //"]],16589,16589,35,28],[[[0,"console.log("],[-1,"information"],[1,"data"],[0,");\n      $('"]],16617,16617,35,28],[[[0,"    if ("],[-1,"information"],[1,"data"],[0,"['is_adm"]],16701,16701,27,20],[[[0,"', function("],[-1,"information"],[1,"data"],[0,") {\n        "]],16816,16816,35,28],[[[0," $.each("],[-1,"information"],[1,"data"],[0,", functi"]],16846,16846,27,20],[[[0,"}, function("],[-1,"information"],[1,"data"],[0,") {\n        "]],17181,17181,35,28],[[[0,"(typeof "],[-1,"information"],[1,"data"],[0,");\n     "]],17222,17222,27,20],[[[0,"ole.log("],[-1,"information"],[1,"data"],[0,"['sessio"]],17251,17251,27,20],[[[0,"ssion=\"+"],[-1,"information"],[1,"data"],[0,"['sessio"]],17305,17305,27,20],[[[0,"ole.log("],[-1,"information"],[1,"data"],[0,");  \n   "]],17383,17383,27,20],[[[0,",5) == '"],[-1,"information"],[1,"data"],[0,"-') {\n  "]],17601,17601,27,20],[[[0,"ame == '"],[-1,"information"],[1,"data"],[0,"-pluck')"]],17643,17643,27,20],[[[0,"theObj, "],[-1,"information"],[1,"data"],[0,") {\n    "]],18005,18005,27,20],[[[0,"ringify("],[-1,"information"],[1,"data"],[0,"));\n    "]],18046,18046,27,20],[[[0," $.each("],[-1,"information"],[1,"data"],[0,"['keys']"]],18065,18065,27,20],[[[0," class=\""],[-1,"information"],[1,"data"],[0,"_table\">"]],18133,18133,27,20],[[[0,"     $.each("],[-1,"information"],[1,"data"],[0,"['table_fiel"]],18193,18193,35,28],[[[0,"ringify("],[-1,"information"],[1,"data"],[0,"[value])"]],18336,18336,27,20],[[[0,"ach("],[-1,"information['information"],[1,"data['data"],[0,"'][v"]],18368,18368,32,18],[[[0,"ef=\"/#!/"],[-1,"information"],[1,"data"],[0,"/?table="]],18467,18467,27,20],[[[0,"heObj.attr('"],[-1,"information"],[1,"data"],[0,"-field_for_u"]],18497,18497,35,28],[[[0,"heObj.attr('"],[-1,"information"],[1,"data"],[0,"-field_to_na"]],18544,18544,35,28],[[[0," $.each("],[-1,"information"],[1,"data"],[0,"['table_"]],18598,18598,27,20],[[[0,"unction("],[-1,"information"],[1,"data"],[0,") {\n    "]],19175,19175,27,20],[[[0,"ole.log("],[-1,"information"],[1,"data"],[0,");\n     "]],19203,19203,27,20],[[[0,"theObj, "],[-1,"information"],[1,"data"],[0,");\n    }"]],19249,19249,27,20],[[[0,"\n    get"],[-1,"information"],[1,"Data"],[0,"($(this)"]],19435,19435,27,20],[[[0,").attr('"],[-1,"information"],[1,"data"],[0,"-table')"]],19454,19454,27,20],[[[0,"this).attr('"],[-1,"information"],[1,"data"],[0,"-field');\n  "]],19937,19937,35,28],[[[0,"this).attr('"],[-1,"information"],[1,"data"],[0,"-field') in "]],20138,20138,35,28],[[[0,"this).attr('"],[-1,"information"],[1,"data"],[0,"-field')];\n "]],20238,20238,35,28],[[[0,"   }\n    get"],[-1,"information"],[1,"Data"],[0,"ForPayload(w"]],20532,20532,35,28],[[[0,"this).attr('"],[-1,"information"],[1,"data"],[0,"-field');\n  "]],20683,20683,35,28],[[[0,"this).attr('"],[-1,"information"],[1,"data"],[0,"-field') in "]],20884,20884,35,28],[[[0,").attr('"],[-1,"information"],[1,"data"],[0,"-field')"]],20988,20988,27,20],[[[0,"   }\n    get"],[-1,"information"],[1,"Data"],[0,"ForPayload(w"]],21272,21272,35,28],[[[0,"     get"],[-1,"information"],[1,"Data"],[0,"ForPaylo"]],21587,21587,27,20],[[[0,"load(window."],[-1,"information"],[1,"data"],[0,", $('#workin"]],21605,21605,35,28],[[[0,"/add"],[-1,"information(window.information"],[1,"Data(window.data"],[0,"['ta"]],21654,21654,38,24],[[[0,"dow."],[-1,"information"],[1,"data"],[0,", $("]],21715,21715,19,12]],"time":1450816633755}
{"patch":[[[[0,"') >"],[-1," -1 || value3.indexOf('url') >"],[0," -1)"]],841,841,38,8]],"time":1450741202690}
{"patch":[[[[0,"'url') >"],[-1," -1"],[0,") {\n    "]],837,837,19,16]],"time":1450741013901}
{"patch":[[[[0,"('ur"],[-1,"l') >"],[0,") {\n"]],836,836,13,8]],"time":1450741011902}
{"patch":[[[[0,"ndex"],[-1,"Of('ur"],[0,") {\n"]],830,830,14,8]],"time":1450741009901}
{"patch":[[[[0,"|| value"],[-1,"3.index"],[0,") {\n    "]],819,819,23,16]],"time":1450741007902}
{"patch":[[[[0,"> -1"],[-1," || value"],[0,") {\n"]],814,814,17,8]],"time":1450741005903}
{"patch":[[[[0,"nd(h"],[-1,"eader+"],[0,"tabl"]],8340,8340,14,8]],"time":1450724206675}
{"patch":[[[[0,".append("],[-1,"h"],[0,"table_ht"]],8335,8335,17,16]],"time":1450724204712}
{"patch":[[[[0,"iv>';\n  "],[-1,"/"],[0,"/element"]],8167,8167,17,16]],"time":1450724194126}
{"patch":[[[[0,"iv>';\n  "],[-1,"/"],[0,"element."]],8167,8167,17,16]],"time":1450724192131}
{"patch":[[[[0,"  }\n  }\n"],[1,"  element.append(header);\n  header = '';\n"],[0,"  header"]],7733,7733,16,57]],"time":1450724114992}
{"patch":[[[[0,"']+')';\n  }\n"],[1,"  element.append(header);\n  header = '';\n"],[0,"  $.each(dat"]],4393,4393,24,65]],"time":1450724107367}
{"patch":[[[[0,"= '<"],[-1,"section class=\"content\"><"],[0,"a hr"]],3870,3870,33,8]],"time":1450723991133}
{"patch":[[[[0,"'</h1></section>"],[1,"<section class=\"content\">"],[0,"';\n  element.app"]],3745,3745,32,57]],"time":1450723985297}
{"patch":[[[[0,"></div><"],[-1,"/section>"],[0,"';\n  ele"]],8386,8386,25,16]],"time":1450723610955}
{"patch":[[[[0,"\"></div>"],[-1,"<"],[0,"';\n  ele"]],8385,8385,17,16]],"time":1450723608997}
{"patch":[[[[0,"content\""],[-1,">"],[0,"';\n  ele"]],3777,3777,17,16]],"time":1450723587822}
{"patch":[[[[0,"ass="],[-1,"\"content\""],[0,"';\n "]],3772,3772,17,8]],"time":1450723585767}
{"patch":[[[[0,"tion><se"],[-1,"ction class="],[0,"';\n  ele"]],3756,3756,28,16]],"time":1450723583767}
{"patch":[[[[0,"ection><"],[-1,"se"],[0,"';\n  ele"]],3754,3754,18,16]],"time":1450723581767}
{"patch":[[[[0,"section>"],[-1,"<"],[0,"';\n  ele"]],3753,3753,17,16]],"time":1450723579804}
{"patch":[[[[0,"</se"],[-1,"ction>"],[0,"';\n "]],3751,3751,14,8]],"time":1450723575420}
{"patch":[[[[0,"e+'</h1>"],[-1,"</se"],[0,"';\n  ele"]],3743,3743,20,16]],"time":1450723573417}
{"patch":[[[[0,"-header\""],[-1,">"],[0,"<h1>'+ti"]],3724,3724,17,16]],"time":1450723569419}
{"patch":[[[[0,"= '<"],[-1,"section class=\"content-header\"<"],[0,"h1>'"]],3698,3698,39,8]],"time":1450723567408}
{"patch":[[[[0,"'_main h"],[-1,"1"],[0,"').text("]],14839,14839,17,16]],"time":1450722399234}
{"patch":[[[[0,"'_main h"],[1,"2"],[0,"').text("]],14839,14839,16,17]],"time":1450722397234}
{"patch":[[[[0,"tle+'</h"],[-1,"1"],[0,">';\n  el"]],3709,3709,17,16]],"time":1450722374978}
{"patch":[[[[0,"tle+'</h"],[1,"2"],[0,">';\n  el"]],3709,3709,16,17]],"time":1450722372977}
{"patch":[[[[0,"er = '<h"],[-1,"1"],[0,">'+title"]],3695,3695,17,16]],"time":1450722370977}
{"patch":[[[[0,"der = '<"],[-1,"h"],[0,">'+title"]],3694,3694,17,16]],"time":1450722368979}
{"patch":[[[[0,"der = '<"],[1,"h2"],[0,">'+title"]],3694,3694,16,18]],"time":1450722366985}
{"patch":[[[[-1,"    function numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n    function cell(value2, value3) {\n        table_html = '';\nif (!(value3 in value2)) {\n        table_html += '<td></td>';\n      } else if (value3.indexOf(\"photo\") > -1) {\n        table_html += '<td class=\"photo\"><img src=\"'+value2[value3]+'\" style=\"max-width:100px\" /></td>';\n      } else if (value2[value3] === parseInt(value2[value3], 10)) {\n        table_html += '<td>'+numberWithCommas(value2[value3])+'</td>';\n      } else if (value3 == 'links') {\n        table_html += '<td><ul>';\n        $.each(value2[value3], function(linki, link) {\n          table_html += '<li><a href=\"'+link['url']+'\">'+link['name']+'</a></li>';\n        });\n        table_html += '</ul></td>';\n      } else if (value3.indexOf('link') > -1) {\n        table_html += '<td><a href=\"'+value2[value3]+'\">'+value2[value3]+'</a></td>';\n      } else if (value3 == 'Summarized results') {\n        var sresults = value2[value3];\n        table_html += '<td><table>';\n        $.each(sresults, function(eindex, employee) {\n          table_html += '<tr><th colspan=\"2\">'+employee['heading']+'</th></tr>';\n          $.each(employee['allegations'], function(aindex, allegation) {\n            table_html += '<tr><th>'+allegation['heading']+'</th><td>'+allegation['allegation']+'</td></tr>';\n            if (stringStartsWith(allegation['opa_finding'], 'Sustained')) {\n              highlighting = ' class=\"highlight\"';\n            } else {\n              highlighting = '';\n            }\n            table_html += '<tr><th>'+allegation['heading']+' OPA finding</th><td'+highlighting+'>'+allegation['opa_finding']+'</td></tr>';\n          });\n          table_html += '<tr><th>Final discipline</th><td>'+employee['final_discipline']+'</td></tr>';\n        });\n        table_html += '</table>';\n        table_html += '</td>';\n      } else if (String(value2[value3]).indexOf('[object Object]') > -1 || Array.isArray(value2[value3])) {\n        if (typeof value2[value3].epoch_time != 'undefined') {\n          var date = new Date(value2[value3].epoch_time*1000);\n          table_html += '<td>'+date+'</td>';\n        } else {\n          table_html += '<td>'+JSON.stringify(value2[value3]).replace(/:\"/g, ': \"').replace(/,/g, ', ')+'</td>';\n        }\n      } else if (value3 in value2) {\n        table_html += '<td>'+value2[value3]+'</td>';\n      }\n        return table_html;\n    }\n    if(typeof console === \"undefined\"){\n    console = { log: function() { } };\n  }\n  function highlight(what, where) {\n    try {  \n    where.each(function() {\n      $(this).html($(this).html().replace(what.not('photo'), '<span class=\"highlight\">'+what+'</span>'));\n    });\n    } catch (err) {\n        \n    }\n  }\nfunction clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor();\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n    }\n    return copy;\n}\nfunction stringStartsWith (string, prefix) {\n  return string.slice(0, prefix.length) == prefix;\n}\nfunction appendLater(what, when) {\n  setTimeout(function() {$('.data_results').append(what)}, when);   \n}\nfunction addData(table, element, data, page) {\n  element.html('');\n  window.payload = data['payload'];\n  //console.log(window.payload);  \n  //console.log('fields '+data['fields']);\n  var additional = '';\n  if ('has_string_in_any_field' in window.payload) {\n    additional = ' mentioning \"'+window.payload['has_string_in_any_field']+'\"';\n    setTimeout(function() {highlight(window.payload['has_string_in_any_field'], $('.data_results td'))}, 1500);\n  }\n  var title = data['table']['name']+additional;\n  var header = '<h2>'+title+'</h2>';\n  element.append(header);\n  header = '';\n  document.title = title + \" | Inside Your Government\";\n  header = '<a href=\"#!/data/?table='+data['table']['id']+'\">Link to table without any subqueries</a> ';\n  header += 'Raw data in JSON format at <span class=\"url\"></span>';\n  header += '<br/><strong>Search:</strong> <input type=\"text\" class=\"search_query\" /><input type=\"button\" data-table=\"'+data['table']['id']+'\" class=\"go\" value=\"go\" />';\n  if (data['number_of_rows'] == 1) {\n    header += ' ('+data['number_of_rows']+' row)';\n  } else {\n    header += ' ('+data['number_of_rows']+' '+data['name_for_rows']+')';\n  }\n  element.append(header);\n  header = '';\n  $.each(data['field_selectors'], function(i, value) {\n    if (value['selector'] == 'checkbox') {\n        var isboth = '';\n        var istrue = '';  \n        var isfalse = '';   \n        if ('filter' in window.payload) {\n          if (value['name'] in window.payload['filter']) {\n\n            switch(window.payload['filter'][value['name']]) {\n              case true:\n                  istrue = ' selected';\n                  break;\n              case false:\n                  isfalse = ' selected';\n                  break;\n            }        \n          }\n          else {\n            isboth = ' selected';\n          }\n        } else {\n          isboth = ' selected';\n        }\n\n        header += ' <select data-field=\"'+value['name']+'\" class=\"boolean_field\"><option value=\"both\"'+isboth+'>Both '+value['display_name']+' and Not '+value['display_name']+'</option><option value=\"true\"'+istrue+'>Only '+value['display_name']+'</option><option value=\"false\"'+isfalse+'>Only Not '+value['display_name']+'</option></select>';\n    } else if (value['selector'] == 'dropdown') {\n        header += ' <strong>'+value['display_name']+'</strong> <select data-field=\"'+value['name']+'\" class=\"dropdown_selector\">';\n        \n        selected = 'none';\n        if ('filter' in window.payload) {\n          if (value['name'] in window.payload['filter']) {\n            selected = window.payload[value['name']];\n          }\n        }\n        $.each(value['items'], function(items_i, item) {\n            if (item == selected) {\n                selected_html = ' selected';\n            } else {\n              selected_html = '';   \n            }\n            header += '<option value=\"'+item+'\"'+selected_html+'>'+item+'</option>';\n        });\n        if (selected == 'none') {\n            if ('none' == selected) {\n              selected_html = ' selected';\n            } else {\n              selected_html = '';   \n            }\n        }\n        header += '<option value=\"none\"'+selected_html+'></option>';\n        header += '</select>';\n    }\n  });\n  header += '<br/><strong>Sorting:</strong> ';\n  header += ' <strong>Field:</strong> ';\n  header += '<select class=\"field_for_sorting\">';\n  header += '<option value=\"\" selected></option>';\n  $.each(data['fields'], function(i, value) {\n    header += '<option value=\"'+value+'\">'+value+'</option>';\n  });\n  header += '</select>';\n  header += ' <strong>Direction:</strong> ';\n  header += '<select class=\"direction_for_sorting\">';\n  header += '<option value=\"desc\" selected>descending</option>';\n  header += '<option value=\"asc\">ascending</option>';   \n  header += '</select>';\n  if ('percentages' in data) {\n    if (data['percentages'].length > 0) {\n      header += '<h3>Auto generated analysis</h3>';\n      header += '<table class=\"data_table percentages\"><tr><th>Field</th><th>Value</th><th>Percentage</th><th>Sentence</th></tr>';\n      \n      $.each(data['percentages'], function(i, value) {\n        new_payload = clone(window.payload);\n        new_payload['filter'] = {};\n        new_payload['filter'][value['field']] = true;\n        header += '<tr><td>'+value['field']+'</td><td><a href=\"/#!/data/?payload='+encodeURIComponent(JSON.stringify(new_payload))+'\">'+value['value']+'</a></td><td>'+value['percentage']+'</td><td>'+value['sentence']+'</tr>';\n      });\n      header += '</table>';\n    }\n  }\n  element.append(header);\n  header = '';\n  header += '<h3>Rankings</h3>';\n  $.each(data['group_counts'], function(j, value2) {\n      header += '<table class=\"data_table\"><tr><th colspan=\"2\">'+value2[0]+'</th></tr>';\n      $.each(value2[1], function(h, value3) {\n          header += '<tr><td>'+JSON.stringify(value3[0])+'</td><td>'+value3[1]+'</td></tr>';\n      });\n      header += '</table>';\n  });\n  header += '<h3>The data</h3>';\n  header += '<div class=\"pages\"></div>';\n  element.append(header);\n  //header = '';\n  \n  var table_html = '<table class=\"data_table data_results\"></table><div class=\"pages\"></div>';\n  element.append(table_html);\n  table_html = '';\n  if (page * per_page < number_of_records) {\n      var rows = data['data'].slice((page-1) * per_page,page * per_page);\n  } else {\n      var rows = data['data'].slice((page-1) * per_page);\n  }\n  $.each(rows, function(j, value2) {\n    table_html += '<tr>';\n    \n    if ('default_fields_to_display' in data['table']) {\n      var fields = data['table']['default_fields_to_display'];\n    } else {\n      var fields = data['fields'];\n    }\n    $.each(fields, function(i, value) {\n      table_html += '<th>'+value+'</th>';\n    });\n    table_html += '</tr>';\n    table_html += '<tr>';\n    $.each(fields, function(h, value3) {\n      table_html += cell(value2, value3); \n    });\n    table_html += '</tr>';\n    //appendLater(table_html, j*5)\n    //$('.data_results').append(table_html);\n    //console.log(table_html);\n  });\n  \n  //table_html += '</table>';\n  setTimeout(function() {$('.data_results').html(table_html);}, 1000);\n    var number_of_records = data['number_of_rows'];\n    var per_page = 10\n    var pages = Math.floor(number_of_records / per_page);\n    if (pages > 1) {\n        if (number_of_records % per_page != 0) {\n            pages += 1;\n        }\n        if (pages+1 < 20) {\n          var end = pages + 1;\n        } else {\n          var end = 20;   \n        }\n        for (var i=1;i<end;i++) {\n            $('.pages').append('<a href=\"\" class=\"to_page_'+i+'\">'+i+'</a>');\n            //console.log(i+' '+pages);\n            if (i != pages) {\n              $('.pages').append(' | ');\n            }\n        }\n    }\n}\nfunction addUrl(element, url) {\n  window.location.hash = '!/data/'+url.substring(45);\n  //console.log('add url '+url);\n  setTimeout(function() {element.find('.url').html('<a href=\"'+url+'\">'+url+'</a>');}, 500);\n}\nfunction getData(table, element, other) {\n  element.text('Loading the data');\n  var params = {'table': table};\n  if (other) {\n    var params = other;\n    params['table'] = table;\n  }\n  $.ajax({\n      url: 'https://api.insideyourgovernment.com/retrive/',\n      data: {'payload': JSON.stringify(params)},\n      dataType: 'json',\n      complete : function(){\n        //console.log('url', this.url);\n          addUrl(element, this.url);\n      },\n      success: function(data){\n        window.data = data;\n        addData(table, element, window.data, 1);\n      }\n  });\n}\nfunction getDataForPayload(payload, element) {\n    element.text('Loading the data');\n  //console.log('type '+String(payload) == '[object Object]');\n  if (String(payload) == '[object Object]') {\n    $.ajax({\n        url: 'https://api.insideyourgovernment.com/retrive/',\n        data: {'payload': JSON.stringify(window.payload)},\n        dataType: 'json',\n        complete : function(){\n          //console.log('url', this.url);\n            addUrl(element, this.url);\n        },\n        success: function(data){\n          var table = data['table'];\n          window.data = data;\n          addData(table, element, data, 1);\n          if ('payload' in data) {\n            if ('has_string_in_any_field' in data['payload']) {\n              setTimeout(function() {$('.search_query').val(data['payload']['has_string_in_any_field'])}, 1000);\n            }\n          }\n        }\n    });\n    \n  } else {\n    \n    $.ajax({\n        url: 'https://api.insideyourgovernment.com/retrive/?payload='+payload,\n        \n        dataType: 'json',\n        complete : function(){\n          //console.log('url', this.url);\n            addUrl(element, this.url);\n        },\n        success: function(data){\n          window.data = data;\n          var table = data['table'];\n          addData(table, element, data, 1);\n          if ('payload' in data) {\n            if ('has_string_in_any_field' in data['payload']) {\n              setTimeout(function() {$('.search_query').val(data['payload']['has_string_in_any_field'])}, 500);\n            }\n          }\n        }\n    });\n  }\n}\nString.prototype.endsWith = function(suffix) {\n  return this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\nfunction processHash() {\n  setTimeout(function() {\n    $('#share_buttons #facebook').html(\"<div class=\\\"fb-share-button\\\" data-href=\\\"\"+window.location+\" data-layout=\\\"button\\\"><\\/div>\");\n    $('#share_buttons #twitter').html(\"<a href=\\\"https:\\/\\/twitter.com\\/share\\\" class=\\\"twitter-share-button\\\"{count} data-size=\\\"large\\\">Tweet<\\/a>\\r\\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=\\/^http:\\/.test(d.location)?\\'http\\':\\'https\\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\\':\\/\\/platform.twitter.com\\/widgets.js\\';fjs.parentNode.insertBefore(js,fjs);}}(document, \\'script\\', \\'twitter-wjs\\');<\\/script>\");\n  }, 1000);\n  var hash = window.location.hash;\n  if (hash) {\n    if (hash.endsWith('/')) {\n      hash = hash.slice(3,-1);\n    } else {\n      hash = hash.slice(3);         \n    }\n    //console.log(hash);\n    $('.main').hide();\n    $('#nav a').removeClass('current');\n    $(\"[href='/#!/\"+hash+\"/']\").addClass('current');\n    //console.log('substring '+hash.substring(0, 11));\n    $('#working_space').text('');\n    if (hash.substring(0, 9) == 'articles/') {\n        //console.log('next substring '+hash.substring(9));\n        $('#'+hash.substring(9)+'_article').show();\n        document.title = $('#'+hash.substring(9)+'_article h2').text() + ' | Inside Your Government';\n        gaTrack(window.location.hash.substring(2), document.title + ' | Inside Your Government');\n        DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        });\n    } else if (hash.substring(0, 12) == 'data/?table=') {\n        var table = hash.substring(12);\n        //console.log(table);\n        getData(table, $('#working_space'));\n        DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        });\n    } else if (hash.substring(0, 14) == 'data/?payload=') {\n        var payload = hash.substring(14);\n        //console.log(table);\n        getDataForPayload(payload, $('#working_space'));\n        setTimeout(function() {DISQUS.reset({\n          reload: true,\n          config: function () {  \n            this.page.identifier = hash.substring(9);  \n            this.page.url = window.location;\n          }\n        })}, 1000);\n    } else {\n        \n        document.title = $('#'+hash+'_main h2').text() + ' | Inside Your Government';\n        gaTrack(window.location.hash.substring(2), document.title + ' | Inside Your Government');\n        $('#'+hash+'_main').show();\n        \n    }    \n    \n  } else {\n    window.location.hash = '#!/home/';\n    processHash();\n  }\n}\n\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0; i<ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1);\n        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);\n    }\n    return \"\";\n}\n\n// Function to load and initiate the Analytics tracker\nfunction gaTracker(id){\n  $.getScript('//www.google-analytics.com/analytics.js'); // jQuery shortcut\n  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;\n  ga('create', id, 'auto');\n  ga('send', 'pageview');\n}\n\n\n// Function to track a virtual page view\nfunction gaTrack(path, title) {\n  ga('set', { page: path, title: title });\n  ga('send', 'pageview');\n}\n\n\n$(function() {\n  $('#nav').height($('#nav a:link').outerHeight()+2);\n  gaTracker('UA-70789642-1');\n  $('#account_box').hide();\n  $('.main').not('#home').hide();\n  processHash();\n  //$('ul'+hash+':first').show();\n  $('body').on('click', 'a', function() {\n    //console.log($(this).attr('href').substring(0, 1));\n    if ($(this).attr('href').substring(0, 3) == \"/#!\" || $(this).attr('href').substring(0, 2) == \"#!\") {\n      setTimeout(function(){processHash();},100);\n    }\n  });\n  //console.log(document.cookie);\n  //console.log(getCookie('session'));\n  $.get('https://api.insideyourgovernment.com/get_session_info/', {'session': getCookie('session')}, function(data) {\n      //console.log(data);\n      $('#login_box').hide();\n      $('#account_box').show(); \n      if (data['is_admin']) {\n        $('.admin').show();\n        $.get('https://api.insideyourgovernment.com/tables/', function(data) {\n           $.each(data, function(i, value) {\n             $('#tables_for_action').append('<option value=\"'+value+'\">'+value+'</option>');\n           });           \n        });\n      }\n    }); \n  $('#login').click(function() {\n    $.post('https://api.insideyourgovernment.com/login/', {'email': $('#email').val(), 'password': $('#password').val()}, function(data) {\n        //console.log(typeof data);\n        //console.log(data['session_id']);\n      document.cookie=\"session=\"+data['session_id'];\n      //console.log(document.cookie);\n      //console.log(data);  \n    });  \n  });\n  $.fn.getAttributes = function() {\n    var attributes = {}; \n    if( this.length ) {\n        $.each( this[0].attributes, function( index, attr ) {\n            if (attr.name.substring(0,5) == 'data-') {\n              if (attr.name == 'data-pluck') {\n                attributes[ attr.name.slice(5) ] = JSON.parse(attr.value);\n              } else {\n                attributes[ attr.name.slice(5) ] = attr.value;\n              }\n            } else {\n              attributes[ attr.name ] = attr.value;\n            }\n        } ); \n    }\n    return attributes;\n  };\n  function addDivsOfTables(theObj, data) {\n    //theObj.html(JSON.stringify(data));\n    $.each(data['keys'], function(i, value) {\n      var table = '<table class=\"data_table\">';\n      table += '<tr><th>Link</th>';\n      $.each(data['table_fields'], function(j, value2) {\n        table += '<th>'+value2+'</th>';\n      });\n      //console.log(value+' '+JSON.stringify(data[value]));\n      $.each(data['data'][value], function(j, value2) {\n        table += '<tr>';\n        table += '<td><a href=\"/#!/data/?table='+value2[theObj.attr('data-field_for_url')]+'\">'+value2[theObj.attr('data-field_to_name_link')]+'</a>';\n        $.each(data['table_fields'], function(h, value3) {\n          table += cell(value2, value3);\n        });\n        table += '</tr>';\n      });\n      table += '</tr>';\n      table += '</table>';\n      theObj.append('<div class=\"box_200\"><h3>'+value+'</h3>'+table+'</div>');\n    });\n  }\n  function getDivsOfTables(theObj) {\n    var params = theObj.getAttributes();\n    //console.log('https://api.insideyourgovernment.com/retrive/?payload='+encodeURIComponent(JSON.stringify(params)))\n    $.get('https://api.insideyourgovernment.com/retrive/', {'payload': JSON.stringify(params)}, function(data) {\n      //console.log(data);\n        \n      addDivsOfTables(theObj, data);\n    });\n  }\n  $('.divs_of_tables').each(function() {\n    getDivsOfTables($(this));\n  });\n\n  $('body').on('click', '.go', function() {\n    var query = $(this).prev().val();\n    getData($(this).attr('data-table'), $('#working_space'), {'has_string_in_any_field': query});\n    setTimeout(function() {$('.search_query').val(query)}, 1000);\n    setTimeout(function() {highlight($('.search_query').val(), $('#working_space td').not('.photo'))}, 1000);\n  });\n  $(\"body\").on('keyup', '.search_query', function (e) {\n    if (e.keyCode == 13) {\n        $(this).parent().find('.go').trigger('click');\n    }\n  });\n  $('body').on('change', '.boolean_field', function(e) {\n    var f = $(this).attr('data-field');\n    window.payload['filter'] = {};\n    //console.log(JSON.stringify(window.payload));\n    if ($(this).val() == 'both') {\n      if ('filter' in window.payload) {\n        if ($(this).attr('data-field') in window.payload['filter']) {\n          delete window.payload['filter'][$(this).attr('data-field')];\n        }\n        if (Object.keys(window.payload['filter'])) {\n          delete window.payload['filter'];\n        }\n      }      \n    } else {\n      //console.log($(this).val(), Boolean($(this).val()));\n      window.payload['filter'][f] = ($(this).val() == 'true');\n    }\n    getDataForPayload(window.payload, $('#working_space'));\n    \n  });\n  $('body').on('change', '.dropdown_selector', function(e) {\n    var f = $(this).attr('data-field');\n    window.payload['filter'] = {};\n    //console.log(JSON.stringify(window.payload));\n    if ($(this).val() == 'none') {\n      if ('filter' in window.payload) {\n        if ($(this).attr('data-field') in window.payload['filter']) {\n          delete window.payload['filter'][$(this).attr('data-field')];\n        }\n        //if (Object.keys(window.payload['filter'])) {\n        //  delete window.payload['filter'];\n        //}\n      }      \n    } else {\n      //console.log($(this).val(), Boolean($(this).val()));\n      window.payload['filter'][f] = $(this).val();\n    }\n    getDataForPayload(window.payload, $('#working_space'));\n    \n  }); \n   $('body').on('click', '.pages a', function(e) {\n        e.preventDefault();\n        $('.pages a').removeClass('current');\n        $('.to_page_'+$(this).text()).addClass('current');\n        window['page'] = parseInt($(this).text());\n        getDataForPayload(window.data, $('#working_space'));\n        //addData(window.data['table']['id'], $('#working_space'), window.data, $(this).text());\n   });\n});"]],0,0,21688,0]],"time":1450534750715}